<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src='./riot+compiler.js'></script>
    <title>RiotJS Test</title>
  </head>
  <body>
    <!-- タグを展開する場所 -->
    <item></item>

    <!-- タグの定義 -->
    <script type="riot/tag">
      <item>
        <!-- this.item_list を {item_list} として each属性で指定 -->
        <div each='{item_list}'>
          <h1>{ name }</h1>
          <p>{ quote }</p>
          <button onclick='{clicked}'>play</button>
        </div>

        <style scoped>
          :scope p {
            color: red;
          }
        </style>

        // JS内で要素のデータを定義する
        this.item_list = [
          {name: 'Annoy-o-Tron', quote: 'Hello, Hello, Hello'},
          {name: 'Northshire Cleric', quote: 'Is someone injured?'},
        ]

        // イベントハンドラを定義
        this.clicked = function(e) {
          console.log(e);
          console.log(`played ${this.name}`);
        }
      </item>
    </script>

    <app></app>
    <todo></todo>

    <script src="./tag/app.html" type="riot/tag"></script>
    <script src="./todo.html" type="riot/tag"></script>
    <script>
      // マウント
      riot.mount('*');
    </script>
  </body>
</html>